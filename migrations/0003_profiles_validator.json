{
  "runCommand": {
    "collMod": "profiles",
    "validator": {
      "$jsonSchema": {
        "bsonType": "object",
        "required": ["username", "firstName", "lastName", "country", "email"],
        "properties": {
          "username":  { "bsonType": "string", "minLength": 3, "maxLength": 48 },
          "firstName": { "bsonType": "string", "minLength": 1 },
          "lastName":  { "bsonType": "string", "minLength": 1 },
          "country":   { "bsonType": "string", "minLength": 2 },
          "email":     { "bsonType": "string" },
          "mobile":    { "bsonType": ["string", "null"] },
          "birthday":  { "bsonType": ["date", "null"] },
          "createdAt": { "bsonType": "date" },
          "updatedAt": { "bsonType": "date" }
        }
      }
    },
    "validationLevel": "moderate",
    "validationAction": "error"
  }
}